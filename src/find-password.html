<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    {{require('template/head.html')}}
    <title>找回密码</title>
    <link rel="stylesheet" href="css/page.css"/>
</head>
<body>
    <div class="wrap box">
        <header vm-controller="find-password"  class="top-header">
            <h1 class="title">找回密码</h1>
            <a href="javascript:;" vm-on-click="back()" class="btn-back"><i class="icon icon-arrow"></i></a>
            <!--头部右边按钮 导航菜单 -->
            {{require('template/topnav.html', {'page':''})}}

        </header>
        <section class="content scroll-wrap flex" vm-controller="find-password">
            <div vm-css-display="page==1?'':'none'" style="display:none;" id="page1" class="flex-content page">
                <form action="" class="form-step1" id="form-step1">
                    <div class="form-control row">
                        <label class="col-2">账户</label>
                        <input type="text" class="col-10" vm-value="mobile" name="mobile" data-validate="empty,phone" placeholder="已验证手机号"/>
                    </div>
                    <div class="form-control row">
                        <input type="text" class="verify col-10" vm-value="image_code" name="image_code" data-validate="empty" placeholder="请输入验证码"/>
                        <img vm-attr-src="image_src" vm-on-click="getCaptcha()" class="verify-img col-2" alt=""/>
                    </div>
                    <div class="btn-wrap offset-control">
                        <button type="button" vm-on-click="step1()" class="btn btn-disabled" vm-attr-class="'btn '+(image_code&&mobile?'btn-default':'btn-disabled')">下一步</button>
                    </div>
                </form>
            </div>
            <div vm-css-display="page==2?'':'none'" style="display:none;" id="page2" class="flex-content page">
                <form action="" class="form-step2" id="form-step2">
                    <div class="row">
                        <span class="input-static col-12 success-msg" vm-html="'验证码已发送到'+mobile.substr(0,3)+'****'+mobile.substr(-4)+'的手机上'"></span>
                    </div>
                    <div class="form-control row">
                        <input class="col-8" type="text" name="mobile_code" vm-value="mobile_code"  placeholder="请输入验证码"/>
                        <button type="button" class="col-4 btn btn-default btn-sm" data-act="mobile_code">获取短信验证码</button>
                    </div>
                    <div class="btn-wrap offset-control">
                        <button type="button" vm-on-click="step2()" class="btn btn-disabled" vm-attr-class="'btn '+(mobile_code?'btn-default':'btn-disabled')">下一步</button>
                    </div>
                    <div class="bottom-tips">
                        <p>遇到问题？请<a href="javascript:;" data-act="ntkf" class="service">联系客服</a></p>
                    </div>
                </form>
            </div>
            <div vm-css-display="page==3?'':'none'" style="display:none;" id="page3" class="flex-content page">
                <form action="" class="form-step3" id="form-step3">
                    <div class="form-control row">
                        <label class="col-2">密码</label>
                        <input class="col-7" type="password" vm-attr-type="password_view?'text':'password'" name="password" vm-value="password" data-validate="empty,password" placeholder="请设置6-18位登录密码" maxlength="18"/>
                        <label class="toggle-psw col-2">
                            <input type="checkbox" value="1" vm-value="password_view"/>
                            <i class="icon-eye"></i>
                        </label>
                    </div>
                    <div class="row">
                        <span class="input-static col-12 input-tips">密码由6-18位数字和字母组成，区分大小写</span>
                    </div>
                    <div class="btn-wrap offset-control">
                        <button type="button" vm-on-click="step3()" class="btn btn-disabled" vm-attr-class="'btn '+(password?'btn-default':'btn-disabled')">完成</button>
                    </div>
                    <div class="bottom-tips">
                        <p>遇到问题？请<a href="#" class="service" data-act="ntkf">联系客服</a></p>
                    </div>
                </form>
            </div>
        </section>
    </div>
    <script src="js/config.js"></script>
    <script>seajs.use('find-password')</script>
</body>
</html>